





    链接命令 ln
    ln -s [原文件] [目标文件]
    命令英文原意 link
    功能描述 生成链接文件
    选项 -s 创建软链接

    硬链接特征
    拥有相同的 i 节点和存储 block 块 可以看做是同一个文件
    可通过 i 节点识别
    不能跨分区
    不能针对目录使用

    软链接特征
    类似 windows 快捷方式
    软链接拥有自己的 i 节点和 block 块 但是数据块中只保存原文件的文件名和 i 节点号 并没有实际的文件数据
    lrwxrwxrwx l 软链接 (软链接文件权限都为 rwxrwxrwx)
    修改任意文件 另一个都改变
    删除原文件 软链接不能使用

    echo 1111 >> /root/cangls
    cat /tmp/cangls.soft
    cat /tmp/cangls.hard
    echo 2222 >> /tmp/cangls.soft
    cat /tmp/cangls/hard
    cat /root/cangls
    echo 3333 >> /tmp/cangls.hard
    cat /root/cangls
    cat /tmp/cangls.soft
    rm -rf /root/cangls
    ll /tmp
    touch csb
    ls
    ln -s /root/csb /tmp/
    touch sb
    ln -s sb /tmp
    ll /tmp



    which pwd
    whereis cd
    which cd

    echo $PATH (用冒号分隔)
    PATH 环境变量 定义的是系统搜索命令的路径
    [root@localhost ~]# echo $PATH
    /usr/lib/qt-3.3/bin:...






    shell 内部命令帮助
    help shell 内部命令 #获取 shell 内部命令的帮助

    whereis cd #确定是否是 shell 内部命令
    help cd #获取内部命令帮助

    详细命令帮助 info
    info 命令 #进入子帮助页面 (带有 * 号标记)
    u 进入上层页面
    n 进入下一个帮助小节
    p 进入上一个帮助小节
    q 退出



    关机和重启命令

    shutdown 命令
    [root@localhost ~]# shutdown [选项] 时间
    -c 取消前一个关机命令
    -h 关机
    -r 重启

    其他关机命令
    [root@localhost ~]# halt
    [root@localhost ~]# poweroff
    [root@localhost ~]# init 0

    其他重启命令
    [root@localhost ~]# reboot
    [root@localhost ~]# init 6 #调用系统运行级别 runlevel

    系统运行级别
    0 关机
    1 单用户
    2 不完全多用户 不含 NFS 服务
    3 完全多用户
    4 未分配
    5 图形界面
    6 重启

    [root@localhost ~]# cat /etc/inittab #修改系统默认运行级别 id:3:initdefault
    [root@localhost ~]# runlevel #查询系统运行级别

    退出登录
    [root@localhost ~]# logout

    其他常用命令
    挂载命令
    用户登录查看和用户交互命令

    查询与自动挂载
    [root@localhost ~]# mount #查询系统中已经挂载的设备
    [root@localhost ~]# mount -a #依照配置文件 /etc/fstab 的内容 自动挂载

    挂载命令格式
    [root@localhost ~]# mount [-t 文件系统] [-o 特殊选项] 设备文件名 挂载点
    -t 文件系统 加入文件系统类型来指定挂载的类型 可以 ext3 ext4 iso9660 等文件系统
    -o 特殊选项 可以指定挂载的额外选项

    特殊选项参数
    atime/noatime 更新访问时间 / 不更新访问时间 访问分区文件时 是否更新文件的访问时间 默认为更新
    async/sync 异步/同步 默认为异步
    auto/noauto 自动/手动 mount -a 命令执行时 是否会自动安装 /etc/fstab 文件内容挂载 默认为自动
    defaults 定义默认值 相当于 rw suid dev exec auto nouser async 这七个选项
    exec/noexec 执行/不执行 设定是否允许在文件系统中执行可执行文件 默认是 exec 允许
    remount 重新挂载已经挂载的文件系统 一般用于指定修改特殊权限
    rw/ro 读写/只读 文件系统挂载时 是否具有读写权限 默认是 rw
    suid/nosuid 具有/不具有 SUID 权限 设定文件系统是否具有 SUID 和 SGID 的权限 默认是具有
    user/nouser 允许/不允许普通用户挂载 设定文件系统是否允许普通用户挂载 默认是不允许 只有 root 可以挂载分区
    usrquota 写入代表文件系统支持用户磁盘配额 默认不支持
    grpquota 写入代表文件系统支持组磁盘配额 默认不支持

    [root@localhost ~]# mount -o remount,noexec/home #重新挂载 /boot 分区 并使用 noexec 权限
    [root@localhost sh]# cd /home
    [root@localhost boot]# vi hello.sh
    [root@localhost boot]# chmod 755 hello.sh
    [root@localhost boot]# ./hello.sh
    [root@localhost boot]# mount -o remount,exec /home #记得改回来啊 要不会影响系统启动的

    挂载光盘
    [root@localhost ~]# mkdir /mnt/cdrom/ #建立挂载点
    [root@localhost ~]# mount -t iso9660 /dev/cdrom/mnt/cdrom/ #挂载光盘
    [root@localhost ~]# mount /dev/sr0 /mnt/cdrom/

    卸载命令
    [root@localhost ~]# umount 设备文件名或挂载点
    [root@localhost ~]# umount /mnt/cdrom

    挂载 U 盘
    [root@localhost ~]# fdisk -l #查看 U 盘设备文件名
    [root@localhost ~]# mount -t vfat /dev/sdb1 /mnt/usb/
    注意 linux 默认是不支持 NTFS 文件系统的

    查看全文多少行
    cat gather.log | wc -l
    cat gather.log | grep '当前消息' | wc -l #查看包含当前消息共有多少行

    watch 监控命令
    watch date #监控当前时间
    cal -y #查看当前所有月份
    cal -m #查看当前月份
	
	
	常用快捷键
ctrl + c 强制终止当前命令
ctrl + l 清屏
ctrl + a 光标移到命令行首
ctrl + e 光标移到命令行尾
ctrl + u 从光标所在位置删除到行首
ctrl + z 把命令放入后台
ctrl + r 在历史命令中搜索

历史命令
history [选项] [历史命令保存文件]
-c 清空历史命令
-w 把缓存中的历史命令写入历史命令保存文件 ~/.bash_history

历史命令的调用
使用上下箭头调用以前的历史命令
使用 "!n" 重复执行第 n 条历史命令
使用 "!!" 重复执行上一条命令
使用 "!字串" 重复执行最后一条以该字串开头的命令

命令与文件补全
在 bash 中 命令与文件补全是非常方便与常用的功能 我们只要在输入命令或文件时 按 "Tab" 键就会自动进行补全

标准输入输出
设备   设备文件名   文件描述符 类型
键盘   /dev/stdin   0          标准输入
显示器 /dev/sdtout  1          标准输出
显示器 /dev/sdterr  2          标准错误输出

输出重定向
标准输出重定向 
命令 > 文件 以覆盖的方式 把命令的正确输出 输出到指定的文件或设备当中
命令 >> 文件 以追加的方式 把命令的正确输出 输出到指定的文件或设备当中
标准错误输出重定向
错误命令 2>文件 以覆盖的方式 把命令的错误输出 输出到指定的文件或设备当中
错误命令 2>>文件 以追加的方式 把命令的错误输出 输出到指定的文件或设备当中
正确输出和错误输出同时保存
命令 > 文件 2>&1 输出都保存到同一个文件当中
命令 >> 文件 2>&1 以追加的方式 把正确输出和错误输出都保存到同一个文件当中
命令 &> 文件 以覆盖的方式 把正确输出和错误输出都保存到同一个文件当中
命令 &>> 文件 以追加的方式 把正确输出和错误输出都保存到同一个文件当中
命令 >> 文件1 2>>文件2 把正确的输出追加到文件1中 把错误的输出追加到文件2 中

输入重定向
[root@localhost ~]# wc [选项][文件名]
-c 统计字节数
-w 统计单词数
-l 统计行数
命令 < 文件把文件作为命令的输入
命令 << 标识符
标识符把标识符之间内容作为命令的输入

多命令顺序执行
: 命令1:命令2 多个命令顺序执行 命令之间没有
&& 命令1&&命令2 逻辑与 当命令1正确执行 则命令2才会执行 当命令1执行不正确 则命令2不会执行
|| 命令1||命令2 逻辑或 当命令1执行不正确 则命令2才会执行 当命令1正确执行 则命令2不会执行
[root@localhost ~]# pwd; touch abc; ls; date
[root@localhost ~]# ls anaconda-ks.cfg && echo yes
[root@localhost ~]# ls anaconda-ks.cfg || echo no
[root@localhost ~]# 命令 && echo yes || echo no

管道符
[root@localhost ~]# 命令1 | 命令2 #命令1的正确输出作为命令2的操作对象
[root@localhost ~]# netstat -an | grep ESTABLISHED
[root@localhost ~]# netstat -an | grep ESTABLISHED | wc -l